;||||||||||||||||||||||||||||||||||||||||||||||||||||
;||||||||||||||||| MAIN OF PROGRAM  |||||||||||||||||
;||||||||||||||||| NQUEEN  PLOBLEM  |||||||||||||||||
;||||||||||||||||||||||||||||||||||||||||||||||||||||
TITLE NQUEEN PLOBLEM  
.MODEL SMALL
.386
INCLUDE MACRO.ASM
.STACK 100H
.DATA
INCLUDE VARIABLE.ASM
.CODE
MAIN PROC
;INITIAL DS AND ES 
	MOV	AX,@DATA
	MOV	DS,AX
	MOV	ES,AX
;SAVE DISPLAY MODE IF NECESSORY
	MOV	AH,0FH
	INT	10H
	PUSH	AX
;CHANGE DISPLAY MODE  TO 13H(320*200:256 COLORS)
	MOV	AX,0013H	
	INT	10H
	
	LEA	SI,INTRO
	MOV	BMP_X,0
	MOV	BMP_Y,0
	CALL	LOADBMP
	DELAY	60000

START_MENU:
	MOV	COUNT_NODE,0
	CALL	MENU_INSERT	
	CALL	CLRPIC
	CALL	SHOW_BROAD

	XOR	AX,AX
	PUSH	AX
	PUSH	AX
	PUSH	AX
	PUSH	AX
	PUSH	AX
	CALL	PLACED_QUEEN

	LEA	SI,TEXT1
	MOV	BMP_X,190
	MOV	BMP_Y,166
	CALL	LOADBMP

	MOV	AH,2			;MOV CURSOR
	XOR	BX,BX			;PAGE	
	MOV	DH,21			;ROW
	MOV	DL,32			;COLUMN
	INT	10H
	MOV	AX,COUNT_NODE
	CALL	OUTDEC

	DELAY	20000
	LEA	SI,TEXT2
	MOV	BMP_X,123
	MOV	BMP_Y,180
	CALL	LOADBMP

	MOV	AH,1
	INT	21H
	CMP	AL,'Y'
	JE	START_MENU
	CMP	AL,'y'
	JE	START_MENU
	LEA	SI,END_PG
	MOV	BMP_X,0
	MOV	BMP_Y,0
	CALL	LOADBMP
	DELAY	50000
	
;LOAD OLD DISPLAY MODE1
	POP	AX
	MOV	AH,00H
	INT	10H
;DOS EXIT
	MOV	AH,4CH
	INT	21H
;EXIT
MAIN	ENDP
INCLUDE INDEC.ASM 
INCLUDE OUTDEC.ASM 
INCLUDE LOADBMP.ASM
INCLUDE MAKE_BD.ASM
INCLUDE PLACED_Q.ASM
END	MAIN